[{"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\index.js":"1","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\App.js":"2","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\Header.js":"3","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\api\\cities.js":"4","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\CityList.js":"5","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\EditCity.js":"6","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\AddCity.js":"7","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\CityCard.js":"8","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\Bike\\BikeTheft.js":"9"},{"size":208,"mtime":1612494095000,"results":"10","hashOfConfig":"11"},{"size":2849,"mtime":1658249009783,"results":"12","hashOfConfig":"11"},{"size":354,"mtime":1658223080640,"results":"13","hashOfConfig":"11"},{"size":106,"mtime":1658177184882,"results":"14","hashOfConfig":"11"},{"size":683,"mtime":1658221388525,"results":"15","hashOfConfig":"11"},{"size":1463,"mtime":1658248803140,"results":"16","hashOfConfig":"11"},{"size":1327,"mtime":1658223503341,"results":"17","hashOfConfig":"11"},{"size":952,"mtime":1658249084625,"results":"18","hashOfConfig":"11"},{"size":1845,"mtime":1658249059053,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"bjex0x",{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\index.js",[],["41","42"],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\App.js",["43","44"],"import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { uuid } from \"uuidv4\";\nimport api from \"../api/cities\";\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport AddCity from \"./City/AddCity\";\nimport CityList from \"./City/CityList\";\nimport EditCity from \"./City/EditCity\";\nimport BikeTheft from \"./Bike/BikeTheft\";\n\nfunction App() {\n  const [cities, setCities] = useState([]);\n\n  const retrieveCities = async () => {\n    const response = await api.get(\"/city\");\n    return response.data;\n  };\n\n  const addCityHandler = async (city) => {\n    console.log(city);\n    const request = {\n      id: uuid(),\n      ...city,\n    };\n\n    const response = await api.post(\"/city\", request);\n    console.log(response);\n    setCities([...cities, response.data]);\n  };\n\n  const updateCityHandler = async (city) => {\n    const response = await api.put(`/city/${city.id}`, city);\n    const { id, name, country } = response.data;\n    setCities(\n      cities.map((city) => {\n        return city.id === id ? { ...response.data } : city;\n      })\n    );\n  };\n\n  const removeCityHandler = async (id) => {\n    await api.delete(`/city/${id}`);\n    const newCityList = cities.filter((city) => {\n      return city.id !== id;\n    });\n\n    setCities(newCityList);\n  };\n\n  const getTheftCountHandler = async (city) => {\n    console.log(city);\n    const response = await api.get(`/bike-theft/count?city=${city}`);\n    console.log(response);\n    return response.data;\n  };\n\n  useEffect(() => {\n    const getAllCities = async () => {\n      const allCities = await retrieveCities();\n      if (allCities) setCities(allCities);\n    };\n\n    getAllCities();\n  }, []);\n\n  useEffect(() => {}, [cities]);\n\n  return (\n    <div className=\"ui container\">\n      <Router>\n        <Header />\n        <Switch>\n          <Route\n            path=\"/city-list\"\n            exact\n            render={(props) => (\n              <CityList\n                {...props}\n                cities={cities}\n                getCityId={removeCityHandler}\n              />\n            )}\n          />\n          <Route\n            path=\"/city/add\"\n            render={(props) => (\n              <AddCity {...props} addCityHandler={addCityHandler} />\n            )}\n          />\n\n          <Route\n            path=\"/city/edit\"\n            render={(props) => (\n              <EditCity {...props} updateCityHandler={updateCityHandler} />\n            )}\n          />\n\n          <Route\n            path=\"/\"\n            render={(props) => (\n              <BikeTheft\n                {...props}\n                getTheftCountHandler={getTheftCountHandler}\n              />\n            )}\n          />\n          <Route path=\"/bike-theft/:id\" component={BikeTheft} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\Header.js",[],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\api\\cities.js",[],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\CityList.js",[],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\EditCity.js",[],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\AddCity.js",[],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\City\\CityCard.js",[],"C:\\Projects\\Sandbox\\interviews\\Swapfiets\\Swapfiets\\frontend.react\\src\\components\\Bike\\BikeTheft.js",["45","46"],"import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport api from \"../../api/cities\";\r\n\r\nconst BikeTheft = (props) => {\r\n  const [location, setLocation] = useState(\"\");\r\n  const [theftCount, setTheftCount] = useState(\"\");\r\n\r\n  console.log(props);\r\n  const name =\r\n    props.location.state &&\r\n    props.location.state.city &&\r\n    props.location.state.city.name;\r\n\r\n  useEffect(() => {\r\n    setLocation(name);\r\n    getTheftCountHandler(name);\r\n  }, [name]);\r\n\r\n  const getTheftCountHandler = async (location) => {\r\n    setTheftCount(\"\");\r\n    const regexExp = /^((\\-?|\\+?)?\\d+(\\.\\d+)?),\\s*((\\-?|\\+?)?\\d+(\\.\\d+)?)$/gi;\r\n    let urlPart = regexExp.test(location)\r\n      ? `latlng=${location}`\r\n      : `city=${location}`;\r\n    const response = await api.get(`/bike-theft/count?${urlPart}`);\r\n    setTheftCount(response && response.data && response.data.count);\r\n    return response.data;\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault();\r\n    getTheftCountHandler(location);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui main\">\r\n      <div className=\"ui form location\">\r\n        <div className=\"field\">\r\n          <label>Location</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            placeholder=\"City or lat/long\"\r\n            value={location}\r\n            onChange={(event) => setLocation(event.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Theft Count:</label>\r\n\r\n          <h1>{theftCount}</h1>\r\n        </div>\r\n      </div>\r\n      <button onClick={handleClick} className=\"ui button green left\">\r\n        Search\r\n      </button>\r\n      <Link to=\"/city-list\">\r\n        <button className=\"ui button blue right\">City List</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BikeTheft;\r\n",{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":34,"column":17,"nodeType":"53","messageId":"54","endLine":34,"endColumn":21},{"ruleId":"51","severity":1,"message":"55","line":34,"column":23,"nodeType":"53","messageId":"54","endLine":34,"endColumn":30},{"ruleId":"56","severity":1,"message":"57","line":22,"column":26,"nodeType":"58","messageId":"59","endLine":22,"endColumn":27,"suggestions":"60"},{"ruleId":"56","severity":1,"message":"57","line":22,"column":53,"nodeType":"58","messageId":"59","endLine":22,"endColumn":54,"suggestions":"61"},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"no-unused-vars","'name' is assigned a value but never used.","Identifier","unusedVar","'country' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["64","65"],["66","67"],"no-global-assign","no-unsafe-negation",{"messageId":"68","fix":"69","desc":"70"},{"messageId":"71","fix":"72","desc":"73"},{"messageId":"68","fix":"74","desc":"70"},{"messageId":"71","fix":"75","desc":"73"},"removeEscape",{"range":"76","text":"77"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"78","text":"79"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"80","text":"77"},{"range":"81","text":"79"},[602,603],"",[602,602],"\\",[629,630],[629,629]]